{"version":3,"file":"static/js/761.7d59b8db.chunk.js","mappings":"iMAIA,MAWMA,GAAMC,EAAAA,EAAAA,IAXW,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,sCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKXC,GAAKC,EAAAA,EAAAA,IAAaV,GAclBW,GAAiBC,EAAAA,EAAAA,IAAWH,EAAI,2BAEzBI,EAAWC,UACtB,IAKE,aAJqBC,EAAAA,EAAAA,IAAOJ,GAAcK,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACrCC,GAAK,IACRC,UAAWC,EAAAA,GAAUC,UAETC,EAChB,CAAE,MAAOC,GAEP,MADAC,QAAQD,MAAM,sBAAuBA,GAC/BA,CACR,GAGWE,EAAeV,iBAAiE,IAA1DW,EAAkBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACtD,IACE,MAAMG,GAAIC,EAAAA,EAAAA,GAAMnB,GAAgBoB,EAAAA,EAAAA,IAAQ,QAAS,SAASC,EAAAA,EAAAA,IAAMP,IAGhE,aAF4BQ,EAAAA,EAAAA,IAAQJ,IAEfK,KAAKC,KAAIC,IAAGpB,EAAAA,EAAAA,GAAA,CAC/BK,GAAIe,EAAIf,IACLe,EAAIC,SAEX,CAAE,MAAOf,GAAa,IAADgB,EAEnB,MAAoB,gBAAX,OAALhB,QAAK,IAALA,OAAK,EAALA,EAAOiB,OAA8B,OAALjB,QAAK,IAALA,GAAc,QAATgB,EAALhB,EAAOkB,eAAO,IAAAF,GAAdA,EAAgBG,SAAS,YAG7DlB,QAAQD,MAAM,wBAAyBA,GAF9B,EAIX,CACF,EAcMoB,GAAc9B,EAAAA,EAAAA,IAAWH,EAAI,oBAEtBkC,EAAoB7B,UAG/B,IAME,aALqBC,EAAAA,EAAAA,IAAO2B,GAAW1B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClCwB,GAAO,IACVI,OAAQ,MACR1B,UAAWC,EAAAA,GAAUC,UAETC,EAChB,CAAE,MAAOC,GAEP,MADAC,QAAQD,MAAM,gCAAiCA,GACzCA,CACR,E","sources":["lib/firebase.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc, query, orderBy, limit, getDocs, Timestamp } from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA1H1rP6MPrKJLbkXPNIq5siry1LRk1CWQ\",\n  authDomain: \"aerilux-website.firebaseapp.com\",\n  projectId: \"aerilux-website\",\n  storageBucket: \"aerilux-website.firebasestorage.app\",\n  messagingSenderId: \"592738410672\",\n  appId: \"1:592738410672:web:768b60e432083c18725b75\",\n  measurementId: \"G-QW0YCHJ91N\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\n// ============== LEADERBOARD ==============\n\nexport interface LeaderboardEntry {\n  id?: string;\n  playerName: string;\n  score: number;\n  pigeonsScared: number;\n  batsScared: number;\n  maxCombo: number;\n  timestamp: Timestamp;\n}\n\nconst leaderboardRef = collection(db, \"pigeon_game_leaderboard\");\n\nexport const addScore = async (entry: Omit<LeaderboardEntry, 'id' | 'timestamp'>): Promise<string> => {\n  try {\n    const docRef = await addDoc(leaderboardRef, {\n      ...entry,\n      timestamp: Timestamp.now()\n    });\n    return docRef.id;\n  } catch (error) {\n    console.error(\"Error adding score:\", error);\n    throw error;\n  }\n};\n\nexport const getTopScores = async (limitCount: number = 10): Promise<LeaderboardEntry[]> => {\n  try {\n    const q = query(leaderboardRef, orderBy(\"score\", \"desc\"), limit(limitCount));\n    const querySnapshot = await getDocs(q);\n    \n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    } as LeaderboardEntry));\n  } catch (error: any) {\n    // Ignorer les erreurs AbortError (normales lors du rechargement)\n    if (error?.name === 'AbortError' || error?.message?.includes('aborted')) {\n      return [];\n    }\n    console.error(\"Error getting scores:\", error);\n    return [];\n  }\n};\n\n// ============== CONTACT MESSAGES ==============\n\nexport interface ContactMessage {\n  id?: string;\n  name: string;\n  email: string;\n  subject: string;\n  message: string;\n  status: 'new' | 'read' | 'replied';\n  timestamp: Timestamp;\n}\n\nconst contactsRef = collection(db, \"contact_messages\");\n\nexport const addContactMessage = async (\n  message: Omit<ContactMessage, 'id' | 'timestamp' | 'status'>\n): Promise<string> => {\n  try {\n    const docRef = await addDoc(contactsRef, {\n      ...message,\n      status: 'new',\n      timestamp: Timestamp.now()\n    });\n    return docRef.id;\n  } catch (error) {\n    console.error(\"Error adding contact message:\", error);\n    throw error;\n  }\n};\n\nexport const getContactMessages = async (limitCount: number = 50): Promise<ContactMessage[]> => {\n  try {\n    const q = query(contactsRef, orderBy(\"timestamp\", \"desc\"), limit(limitCount));\n    const querySnapshot = await getDocs(q);\n    \n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    } as ContactMessage));\n  } catch (error: any) {\n    // Ignorer les erreurs AbortError (normales lors du rechargement)\n    if (error?.name === 'AbortError' || error?.message?.includes('aborted')) {\n      return [];\n    }\n    console.error(\"Error getting contact messages:\", error);\n    return [];\n  }\n};\n\nexport { app, db };\n"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","leaderboardRef","collection","addScore","async","addDoc","_objectSpread","entry","timestamp","Timestamp","now","id","error","console","getTopScores","limitCount","arguments","length","undefined","q","query","orderBy","limit","getDocs","docs","map","doc","data","_error$message","name","message","includes","contactsRef","addContactMessage","status"],"sourceRoot":""}