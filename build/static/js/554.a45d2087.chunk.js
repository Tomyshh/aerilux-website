"use strict";(self.webpackChunkaerilux_website=self.webpackChunkaerilux_website||[]).push([[554],{9554:(e,n,r)=>{r.r(n),r.d(n,{default:()=>be});var t,a,o,i,s,d,l,c,m,u,h,p,x,g,f,y,b,A,j,v,k,w,C,S,_,N,z,q,I,P,U=r(9379),E=r(7528),M=r(5043),O=r(5464),W=r(2924),Y=r(3216),F=r(1128),T=r(5599),B=r(6923),D=r(579);const H=O.Ay.div(t||(t=(0,E.A)(["\n  min-height: 100vh;\n  padding: 2rem;\n"]))),Z=O.Ay.div(a||(a=(0,E.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),J=O.Ay.h1(o||(o=(0,E.A)(["\n  font-size: 3rem;\n  font-weight: 800;\n  margin-bottom: 3rem;\n"]))),L=O.Ay.div(i||(i=(0,E.A)(["\n  display: grid;\n  grid-template-columns: 1fr 400px;\n  gap: 3rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),Q=O.Ay.form(s||(s=(0,E.A)([""]))),R=O.Ay.div(d||(d=(0,E.A)(["\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n"]))),X=O.Ay.h2(l||(l=(0,E.A)(["\n  font-size: 1.5rem;\n  margin-bottom: 2rem;\n"]))),G=O.Ay.div(c||(c=(0,E.A)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),K=O.Ay.div(m||(m=(0,E.A)(["\n  grid-column: ",";\n"])),(e=>e.fullWidth?"1 / -1":"auto")),V=O.Ay.label(u||(u=(0,E.A)(["\n  display: block;\n  font-size: 0.9rem;\n  color: #999999;\n  margin-bottom: 0.5rem;\n"]))),$=O.Ay.input(h||(h=(0,E.A)(["\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 10px;\n  padding: 0.75rem 1rem;\n  color: #ffffff;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #ffffff;\n    background: rgba(255, 255, 255, 0.15);\n  }\n  \n  &::placeholder {\n    color: #666666;\n  }\n"]))),ee=O.Ay.select(p||(p=(0,E.A)(["\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 10px;\n  padding: 0.75rem 1rem;\n  color: #ffffff;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #ffffff;\n    background: rgba(255, 255, 255, 0.15);\n  }\n  \n  option {\n    background: #000000;\n  }\n"]))),ne=O.Ay.div(x||(x=(0,E.A)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1rem;\n  margin-bottom: 2rem;\n"]))),re=(0,O.Ay)(W.P.div)(g||(g=(0,E.A)(["\n  padding: 1.5rem;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 15px;\n  cursor: pointer;\n  text-align: center;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n"])),(e=>e.selected?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.05)"),(e=>e.selected?"#ffffff":"transparent")),te=O.Ay.div(f||(f=(0,E.A)(["\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n"]))),ae=O.Ay.p(y||(y=(0,E.A)(["\n  font-size: 0.9rem;\n"]))),oe=O.Ay.div(b||(b=(0,E.A)(["\n  position: sticky;\n  top: 100px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  padding: 2rem;\n  height: fit-content;\n"]))),ie=O.Ay.div(A||(A=(0,E.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n"]))),se=O.Ay.div(j||(j=(0,E.A)(["\n  flex: 1;\n"]))),de=O.Ay.p(v||(v=(0,E.A)(["\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n"]))),le=O.Ay.p(k||(k=(0,E.A)(["\n  font-size: 0.9rem;\n  color: #999999;\n"]))),ce=O.Ay.p(w||(w=(0,E.A)(["\n  font-weight: 600;\n"]))),me=O.Ay.div(C||(C=(0,E.A)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n"]))),ue=O.Ay.span(S||(S=(0,E.A)(["\n  color: #999999;\n"]))),he=O.Ay.span(_||(_=(0,E.A)(["\n  font-weight: 600;\n"]))),pe=(0,O.Ay)(me)(N||(N=(0,E.A)(["\n  border-bottom: none;\n  border-top: 2px solid rgba(255, 255, 255, 0.2);\n  margin-top: 1rem;\n  padding-top: 1.5rem;\n"]))),xe=O.Ay.span(z||(z=(0,E.A)(["\n  font-size: 1.25rem;\n  font-weight: 700;\n"]))),ge=O.Ay.span(q||(q=(0,E.A)(["\n  font-size: 1.5rem;\n  font-weight: 800;\n"]))),fe=(0,O.Ay)(W.P.button)(I||(I=(0,E.A)(["\n  width: 100%;\n  background-color: #ffffff;\n  color: #000000;\n  padding: 1.25rem 2rem;\n  border-radius: 50px;\n  font-weight: 600;\n  font-size: 1.1rem;\n  margin-top: 2rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),ye=O.Ay.div(P||(P=(0,E.A)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  font-size: 0.9rem;\n  color: #999999;\n"]))),be=()=>{const e=(0,Y.Zp)(),{items:n}=(0,F._)(),[r]=(0,M.useState)("payme"),[t,a]=(0,M.useState)(!1),[o,i]=(0,M.useState)(null),[s,d]=(0,M.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",address2:"",city:"",state:"",zipCode:"",country:"US"}),[l,c]=(0,M.useState)(null),[m,u]=(0,M.useState)(T.HA);(0,M.useEffect)((()=>{(async()=>{try{const e=await B.U.getPrice();c(e.price),u(e.currency||T.HA)}catch(e){}})()}),[]);const h=n.reduce(((e,n)=>e+n.quantity),0),p=null!=l?l*h:0,x=p,g=(0,M.useMemo)((()=>n.map((e=>(0,U.A)((0,U.A)({item_id:e.sku,item_name:e.name},null!=l?{price:l}:{}),{},{quantity:e.quantity,item_category:"product"})))),[n,l]);(0,M.useEffect)((()=>{0!==n.length&&(0,T.sx)("begin_checkout",{currency:m,value:null!=l?x:void 0,items:g})}),[n.length,x,g,m,l]),(0,M.useEffect)((()=>{0!==n.length&&(0,T.sx)("add_payment_info",{currency:m,value:null!=l?x:void 0,payment_type:r,items:g})}),[r,n.length,x,g,m,l]);const f=e=>{const{name:n,value:r}=e.target;d((e=>(0,U.A)((0,U.A)({},e),{},{[n]:r})))};return 0===n.length?(e("/cart"),null):(0,D.jsx)(H,{children:(0,D.jsxs)(Z,{children:[(0,D.jsx)(J,{children:"Checkout"}),o&&(0,D.jsx)("div",{style:{background:"rgba(255, 59, 48, 0.12)",border:"1px solid rgba(255, 59, 48, 0.35)",color:"#ff6b6b",padding:"1rem 1.25rem",borderRadius:12,marginBottom:"1.5rem"},children:o}),(0,D.jsxs)(L,{children:[(0,D.jsxs)(Q,{id:"checkout-form",onSubmit:async e=>{e.preventDefault(),a(!0),i(null);try{(0,T.sx)("add_shipping_info",{currency:m,value:null!=l?x:void 0,shipping_tier:"free",items:g});const e=window.location.origin,r="".concat(e,"/checkout/success"),t="".concat(e,"/checkout/cancel"),a={customer:{firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,address:s.address,address2:s.address2||void 0,city:s.city,state:s.state||void 0,zipCode:s.zipCode,country:s.country},items:n.map((e=>({name:"Aerilux Starter Pack",sku:e.sku,quantity:e.quantity}))),returnUrl:r,cancelUrl:t,metadata:{source:"website"}},o=await B.U.createPaymeSale(a);if(!o.checkoutUrl)throw new Error("PayMe n\u2019a pas renvoy\xe9 de checkoutUrl");localStorage.setItem("orderId",o.orderId),localStorage.setItem("orderNumber",o.orderNumber),localStorage.setItem("lastOrderId",o.orderId),localStorage.setItem("lastOrderNumber",o.orderNumber),o.paymeSaleId&&localStorage.setItem("lastPaymeSaleId",o.paymeSaleId),(0,T.sx)("checkout_progress",{step:"redirect_to_payme",order_id:o.orderId,order_number:o.orderNumber}),window.location.href=o.checkoutUrl}catch(r){console.error("Order failed:",r);const e=(null===r||void 0===r?void 0:r.message)||"Checkout error";i(e),a(!1)}},children:[(0,D.jsxs)(R,{children:[(0,D.jsx)(X,{children:"Shipping Information"}),(0,D.jsxs)(G,{children:[(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"First Name"}),(0,D.jsx)($,{type:"text",name:"firstName",value:s.firstName,onChange:f,placeholder:"John",required:!0})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"Last Name"}),(0,D.jsx)($,{type:"text",name:"lastName",value:s.lastName,onChange:f,placeholder:"Doe",required:!0})]}),(0,D.jsxs)(K,{fullWidth:!0,children:[(0,D.jsx)(V,{children:"Email"}),(0,D.jsx)($,{type:"email",name:"email",value:s.email,onChange:f,placeholder:"john@example.com",required:!0})]}),(0,D.jsxs)(K,{fullWidth:!0,children:[(0,D.jsx)(V,{children:"Phone"}),(0,D.jsx)($,{type:"tel",name:"phone",value:s.phone,onChange:f,placeholder:"+1 (555) 123-4567",required:!0})]}),(0,D.jsxs)(K,{fullWidth:!0,children:[(0,D.jsx)(V,{children:"Address"}),(0,D.jsx)($,{type:"text",name:"address",value:s.address,onChange:f,placeholder:"123 Main Street",required:!0})]}),(0,D.jsxs)(K,{fullWidth:!0,children:[(0,D.jsx)(V,{children:"Apartment, suite, etc. (optional)"}),(0,D.jsx)($,{type:"text",name:"address2",value:s.address2,onChange:f,placeholder:"Apt 4B"})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"City"}),(0,D.jsx)($,{type:"text",name:"city",value:s.city,onChange:f,placeholder:"New York",required:!0})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"State"}),(0,D.jsxs)(ee,{name:"state",value:s.state,onChange:f,required:!0,children:[(0,D.jsx)("option",{value:"",children:"Select State"}),(0,D.jsx)("option",{value:"NY",children:"New York"}),(0,D.jsx)("option",{value:"CA",children:"California"}),(0,D.jsx)("option",{value:"TX",children:"Texas"})]})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"ZIP Code"}),(0,D.jsx)($,{type:"text",name:"zipCode",value:s.zipCode,onChange:f,placeholder:"10001",required:!0})]}),(0,D.jsxs)(K,{children:[(0,D.jsx)(V,{children:"Country"}),(0,D.jsxs)(ee,{name:"country",value:s.country,onChange:f,required:!0,children:[(0,D.jsx)("option",{value:"US",children:"United States"}),(0,D.jsx)("option",{value:"CA",children:"Canada"})]})]})]})]}),(0,D.jsxs)(R,{children:[(0,D.jsx)(X,{children:"Payment"}),(0,D.jsx)(ne,{children:(0,D.jsxs)(re,{selected:"payme"===r,children:[(0,D.jsx)(te,{children:"\ud83d\udd12"}),(0,D.jsx)(ae,{children:"PayMe (secure checkout)"})]})})]})]}),(0,D.jsxs)(oe,{children:[(0,D.jsx)(X,{children:"Order Summary"}),n.map((e=>(0,D.jsxs)(ie,{children:[(0,D.jsxs)(se,{children:[(0,D.jsx)(de,{children:e.name}),(0,D.jsxs)(le,{children:["Qty: ",e.quantity]})]}),(0,D.jsx)(ce,{children:null!=l?"".concat(m," ").concat((l*e.quantity).toFixed(2)):"\u2014"})]},e.sku))),(0,D.jsxs)(me,{children:[(0,D.jsx)(ue,{children:"Subtotal"}),(0,D.jsx)(he,{children:null!=l?"".concat(m," ").concat(p.toFixed(2)):"\u2014"})]}),(0,D.jsxs)(pe,{children:[(0,D.jsx)(xe,{children:"Total"}),(0,D.jsx)(ge,{children:null!=l?"".concat(m," ").concat(x.toFixed(2)):"\u2014"})]}),(0,D.jsx)(fe,{type:"submit",form:"checkout-form",disabled:t,onClick:()=>{(0,T.d4)({contentType:"checkout_place_order_click",location:"checkout_page"})},children:t?"Processing...":"Place Order"}),(0,D.jsxs)(ye,{children:[(0,D.jsx)("span",{children:"\ud83d\udd12"}),(0,D.jsx)("span",{children:"You will be redirected to PayMe to complete the payment."})]})]})]})]})})}}}]);
//# sourceMappingURL=554.a45d2087.chunk.js.map