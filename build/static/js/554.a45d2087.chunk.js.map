{"version":3,"file":"static/js/554.a45d2087.chunk.js","mappings":"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","sources":["pages/CheckoutPage.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../hooks/useCart';\nimport { ANALYTICS_CURRENCY, trackEvent, trackSelectContent } from '../services/analytics';\nimport { checkoutService } from '../services/checkout';\n\nconst CheckoutPageContainer = styled.div`\n  min-height: 100vh;\n  padding: 2rem;\n`;\n\nconst Container = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst PageTitle = styled.h1`\n  font-size: 3rem;\n  font-weight: 800;\n  margin-bottom: 3rem;\n`;\n\nconst CheckoutGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 400px;\n  gap: 3rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst CheckoutForm = styled.form``;\n\nconst FormSection = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  padding: 2rem;\n  margin-bottom: 2rem;\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 1.5rem;\n  margin-bottom: 2rem;\n`;\n\nconst FormGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FormGroup = styled.div<{ fullWidth?: boolean }>`\n  grid-column: ${props => props.fullWidth ? '1 / -1' : 'auto'};\n`;\n\nconst Label = styled.label`\n  display: block;\n  font-size: 0.9rem;\n  color: #999999;\n  margin-bottom: 0.5rem;\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 10px;\n  padding: 0.75rem 1rem;\n  color: #ffffff;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #ffffff;\n    background: rgba(255, 255, 255, 0.15);\n  }\n  \n  &::placeholder {\n    color: #666666;\n  }\n`;\n\nconst Select = styled.select`\n  width: 100%;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 10px;\n  padding: 0.75rem 1rem;\n  color: #ffffff;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: #ffffff;\n    background: rgba(255, 255, 255, 0.15);\n  }\n  \n  option {\n    background: #000000;\n  }\n`;\n\nconst PaymentMethods = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1rem;\n  margin-bottom: 2rem;\n`;\n\nconst PaymentMethod = styled(motion.div)<{ selected: boolean }>`\n  padding: 1.5rem;\n  background: ${props => props.selected ? 'rgba(255, 255, 255, 0.15)' : 'rgba(255, 255, 255, 0.05)'};\n  border: 2px solid ${props => props.selected ? '#ffffff' : 'transparent'};\n  border-radius: 15px;\n  cursor: pointer;\n  text-align: center;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst PaymentIcon = styled.div`\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n`;\n\nconst PaymentLabel = styled.p`\n  font-size: 0.9rem;\n`;\n\nconst OrderSummary = styled.div`\n  position: sticky;\n  top: 100px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  padding: 2rem;\n  height: fit-content;\n`;\n\nconst SummaryItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n`;\n\nconst ItemInfo = styled.div`\n  flex: 1;\n`;\n\nconst ItemName = styled.p`\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n`;\n\nconst ItemQuantity = styled.p`\n  font-size: 0.9rem;\n  color: #999999;\n`;\n\nconst ItemPrice = styled.p`\n  font-weight: 600;\n`;\n\nconst SummaryRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n`;\n\nconst SummaryLabel = styled.span`\n  color: #999999;\n`;\n\nconst SummaryValue = styled.span`\n  font-weight: 600;\n`;\n\nconst TotalRow = styled(SummaryRow)`\n  border-bottom: none;\n  border-top: 2px solid rgba(255, 255, 255, 0.2);\n  margin-top: 1rem;\n  padding-top: 1.5rem;\n`;\n\nconst TotalLabel = styled.span`\n  font-size: 1.25rem;\n  font-weight: 700;\n`;\n\nconst TotalValue = styled.span`\n  font-size: 1.5rem;\n  font-weight: 800;\n`;\n\nconst PlaceOrderButton = styled(motion.button)`\n  width: 100%;\n  background-color: #ffffff;\n  color: #000000;\n  padding: 1.25rem 2rem;\n  border-radius: 50px;\n  font-weight: 600;\n  font-size: 1.1rem;\n  margin-top: 2rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst SecurityInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-top: 1rem;\n  font-size: 0.9rem;\n  color: #999999;\n`;\n\nconst CheckoutPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { items } = useCart();\n  const [paymentMethod] = useState('payme');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    address: '',\n    address2: '',\n    city: '',\n    state: '',\n    zipCode: '',\n    country: 'US',\n  });\n\n  const [unitPrice, setUnitPrice] = useState<number | null>(null);\n  const [currency, setCurrency] = useState<string>(ANALYTICS_CURRENCY);\n\n  useEffect(() => {\n    void (async () => {\n      try {\n        const p = await checkoutService.getPrice();\n        setUnitPrice(p.price);\n        setCurrency(p.currency || ANALYTICS_CURRENCY);\n      } catch {\n        // ignore\n      }\n    })();\n  }, []);\n\n  const qty = items.reduce((sum, i) => sum + i.quantity, 0);\n  const subtotal = unitPrice != null ? unitPrice * qty : 0;\n  const total = subtotal;\n\n  const analyticsItems = useMemo(\n    () =>\n      items.map(i => ({\n        item_id: i.sku,\n        item_name: i.name,\n        ...(unitPrice != null ? { price: unitPrice } : {}),\n        quantity: i.quantity,\n        item_category: 'product',\n      })),\n    [items, unitPrice]\n  );\n\n  useEffect(() => {\n    if (items.length === 0) return;\n    void trackEvent('begin_checkout', {\n      currency,\n      value: unitPrice != null ? total : undefined,\n      items: analyticsItems,\n    });\n  }, [items.length, total, analyticsItems, currency, unitPrice]);\n\n  useEffect(() => {\n    if (items.length === 0) return;\n    void trackEvent('add_payment_info', {\n      currency,\n      value: unitPrice != null ? total : undefined,\n      payment_type: paymentMethod,\n      items: analyticsItems,\n    });\n  }, [paymentMethod, items.length, total, analyticsItems, currency, unitPrice]);\n\n  const handleInputChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsProcessing(true);\n    setErrorMessage(null);\n\n    try {\n      void trackEvent('add_shipping_info', {\n        currency,\n        value: unitPrice != null ? total : undefined,\n        shipping_tier: 'free',\n        items: analyticsItems,\n      });\n\n      const origin = window.location.origin;\n      const returnUrl = `${origin}/checkout/success`;\n      const cancelUrl = `${origin}/checkout/cancel`;\n\n      const payload = {\n        customer: {\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email,\n          phone: formData.phone,\n          address: formData.address,\n          address2: formData.address2 || undefined,\n          city: formData.city,\n          state: formData.state || undefined,\n          zipCode: formData.zipCode,\n          country: formData.country,\n        },\n        items: items.map(i => ({\n          name: 'Aerilux Starter Pack',\n          sku: i.sku,\n          quantity: i.quantity,\n        })),\n        returnUrl,\n        cancelUrl,\n        metadata: { source: 'website' },\n      };\n\n      const data = await checkoutService.createPaymeSale(payload);\n      if (!data.checkoutUrl) {\n        throw new Error(\"PayMe nâ€™a pas renvoyÃ© de checkoutUrl\");\n      }\n\n      // Supporte les 2 clÃ©s (anciennes + celles demandÃ©es).\n      localStorage.setItem('orderId', data.orderId);\n      localStorage.setItem('orderNumber', data.orderNumber);\n      localStorage.setItem('lastOrderId', data.orderId);\n      localStorage.setItem('lastOrderNumber', data.orderNumber);\n      if (data.paymeSaleId) localStorage.setItem('lastPaymeSaleId', data.paymeSaleId);\n\n      // IMPORTANT: ne pas envoyer l'Ã©vÃ©nement GA4 \"purchase\" ici (le paiement n'est pas confirmÃ© cÃ´tÃ© client).\n      void trackEvent('checkout_progress', {\n        step: 'redirect_to_payme',\n        order_id: data.orderId,\n        order_number: data.orderNumber,\n      });\n\n      window.location.href = data.checkoutUrl;\n    } catch (error) {\n      console.error('Order failed:', error);\n      const msg = (error as any)?.message || 'Checkout error';\n      setErrorMessage(msg);\n      setIsProcessing(false);\n    }\n  };\n\n  if (items.length === 0) {\n    navigate('/cart');\n    return null;\n  }\n\n  return (\n    <CheckoutPageContainer>\n      <Container>\n        <PageTitle>Checkout</PageTitle>\n        {errorMessage && (\n          <div\n            style={{\n              background: 'rgba(255, 59, 48, 0.12)',\n              border: '1px solid rgba(255, 59, 48, 0.35)',\n              color: '#ff6b6b',\n              padding: '1rem 1.25rem',\n              borderRadius: 12,\n              marginBottom: '1.5rem',\n            }}\n          >\n            {errorMessage}\n          </div>\n        )}\n        <CheckoutGrid>\n          <CheckoutForm id=\"checkout-form\" onSubmit={handleSubmit}>\n            <FormSection>\n              <SectionTitle>Shipping Information</SectionTitle>\n              <FormGrid>\n                <FormGroup>\n                  <Label>First Name</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"firstName\"\n                    value={formData.firstName}\n                    onChange={handleInputChange}\n                    placeholder=\"John\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label>Last Name</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"lastName\"\n                    value={formData.lastName}\n                    onChange={handleInputChange}\n                    placeholder=\"Doe\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup fullWidth>\n                  <Label>Email</Label>\n                  <Input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    placeholder=\"john@example.com\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup fullWidth>\n                  <Label>Phone</Label>\n                  <Input\n                    type=\"tel\"\n                    name=\"phone\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                    placeholder=\"+1 (555) 123-4567\"\n                    required\n                  />\n                </FormGroup>\n            <FormGroup fullWidth>\n              <Label>Address</Label>\n                  <Input\n                    type=\"text\"\n                name=\"address\"\n                value={formData.address}\n                    onChange={handleInputChange}\n                    placeholder=\"123 Main Street\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup fullWidth>\n                  <Label>Apartment, suite, etc. (optional)</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"address2\"\n                    value={formData.address2}\n                    onChange={handleInputChange}\n                    placeholder=\"Apt 4B\"\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label>City</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"city\"\n                    value={formData.city}\n                    onChange={handleInputChange}\n                    placeholder=\"New York\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label>State</Label>\n                  <Select name=\"state\" value={formData.state} onChange={handleInputChange} required>\n                    <option value=\"\">Select State</option>\n                    <option value=\"NY\">New York</option>\n                    <option value=\"CA\">California</option>\n                    <option value=\"TX\">Texas</option>\n                  </Select>\n                </FormGroup>\n                <FormGroup>\n                  <Label>ZIP Code</Label>\n                  <Input\n                    type=\"text\"\n                name=\"zipCode\"\n                value={formData.zipCode}\n                    onChange={handleInputChange}\n                    placeholder=\"10001\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label>Country</Label>\n                  <Select name=\"country\" value={formData.country} onChange={handleInputChange} required>\n                    <option value=\"US\">United States</option>\n                    <option value=\"CA\">Canada</option>\n                  </Select>\n                </FormGroup>\n              </FormGrid>\n            </FormSection>\n\n            <FormSection>\n              <SectionTitle>Payment</SectionTitle>\n              <PaymentMethods>\n                <PaymentMethod\n                  selected={paymentMethod === 'payme'}\n                >\n                  <PaymentIcon>ðŸ”’</PaymentIcon>\n                  <PaymentLabel>PayMe (secure checkout)</PaymentLabel>\n                </PaymentMethod>\n              </PaymentMethods>\n            </FormSection>\n\n          </CheckoutForm>\n\n          <OrderSummary>\n            <SectionTitle>Order Summary</SectionTitle>\n            {items.map((item) => (\n              <SummaryItem key={item.sku}>\n                <ItemInfo>\n                  <ItemName>{item.name}</ItemName>\n                  <ItemQuantity>Qty: {item.quantity}</ItemQuantity>\n                </ItemInfo>\n                <ItemPrice>\n                  {unitPrice != null ? `${currency} ${(unitPrice * item.quantity).toFixed(2)}` : 'â€”'}\n                </ItemPrice>\n              </SummaryItem>\n            ))}\n            \n            <SummaryRow>\n              <SummaryLabel>Subtotal</SummaryLabel>\n              <SummaryValue>{unitPrice != null ? `${currency} ${subtotal.toFixed(2)}` : 'â€”'}</SummaryValue>\n            </SummaryRow>\n            <TotalRow>\n              <TotalLabel>Total</TotalLabel>\n              <TotalValue>{unitPrice != null ? `${currency} ${total.toFixed(2)}` : 'â€”'}</TotalValue>\n            </TotalRow>\n            \n            <PlaceOrderButton\n              type=\"submit\"\n              form=\"checkout-form\"\n              disabled={isProcessing}\n              onClick={() => {\n                void trackSelectContent({\n                  contentType: 'checkout_place_order_click',\n                  location: 'checkout_page',\n                });\n              }}\n            >\n              {isProcessing ? 'Processing...' : 'Place Order'}\n            </PlaceOrderButton>\n\n            <SecurityInfo>\n              <span>ðŸ”’</span>\n              <span>You will be redirected to PayMe to complete the payment.</span>\n            </SecurityInfo>\n          </OrderSummary>\n        </CheckoutGrid>\n      </Container>\n    </CheckoutPageContainer>\n  );\n};\n\nexport default CheckoutPage; "],"names":["CheckoutPageContainer","styled","div","_templateObject","_taggedTemplateLiteral","Container","_templateObject2","PageTitle","h1","_templateObject3","CheckoutGrid","_templateObject4","CheckoutForm","form","_templateObject5","FormSection","_templateObject6","SectionTitle","h2","_templateObject7","FormGrid","_templateObject8","FormGroup","_templateObject9","props","fullWidth","Label","label","_templateObject0","Input","input","_templateObject1","Select","select","_templateObject10","PaymentMethods","_templateObject11","PaymentMethod","motion","_templateObject12","selected","PaymentIcon","_templateObject13","PaymentLabel","p","_templateObject14","OrderSummary","_templateObject15","SummaryItem","_templateObject16","ItemInfo","_templateObject17","ItemName","_templateObject18","ItemQuantity","_templateObject19","ItemPrice","_templateObject20","SummaryRow","_templateObject21","SummaryLabel","span","_templateObject22","SummaryValue","_templateObject23","TotalRow","_templateObject24","TotalLabel","_templateObject25","TotalValue","_templateObject26","PlaceOrderButton","button","_templateObject27","SecurityInfo","_templateObject28","CheckoutPage","navigate","useNavigate","items","useCart","paymentMethod","useState","isProcessing","setIsProcessing","errorMessage","setErrorMessage","formData","setFormData","firstName","lastName","email","phone","address","address2","city","state","zipCode","country","unitPrice","setUnitPrice","currency","setCurrency","ANALYTICS_CURRENCY","useEffect","checkoutService","getPrice","price","_unused","qty","reduce","sum","i","quantity","subtotal","total","analyticsItems","useMemo","map","_objectSpread","item_id","sku","item_name","name","item_category","length","trackEvent","value","undefined","payment_type","handleInputChange","e","target","prev","_jsx","children","_jsxs","style","background","border","color","padding","borderRadius","marginBottom","id","onSubmit","async","preventDefault","shipping_tier","origin","window","location","returnUrl","concat","cancelUrl","payload","customer","metadata","source","data","createPaymeSale","checkoutUrl","Error","localStorage","setItem","orderId","orderNumber","paymeSaleId","step","order_id","order_number","href","error","console","msg","message","type","onChange","placeholder","required","item","toFixed","disabled","onClick","trackSelectContent","contentType"],"sourceRoot":""}